; ata2003lk ;
; この中はコメント ;

; 基本的には2003lkと同じ．ただしオペランド順は'i'cのみ ;
; 'i'cや'c'iを使用することは不可 ;
; レジスタはf0-f3,f5のみ使用可．それ以外のレジスタは使用不可 ;
; f5は使用不可になる可能性有り ;
krz 20 f1
krz 10 f0
ata f1 f0

; kueやxokで指定されているラベル以外は加工される ;
; そのラベルと被った場合の対策はまだ行なっていない ;

; 引数の設定は"zali (値)"とする;
; 関数呼び出しは"fenx (関数名)"とする ;
; 呼び出し後は"ycax (積んだ個数)"でスタックを掃除する ;
zali 10
zali f0
fenx cer-lix
ycax 2

; 関数定義は"cers (関数名)"とする ;
; 引数にはq@(位置番号)でアクセス可能とする ;
; 位置番号は最後に積んだものを0として最初に積んだものの方へ大きくなる ;
; dosnに来たらリターンする ;
cers cer-lix
krz q@1 f0
ata q@0 f0
dosn

; untilもどき ;
lar f0 0 xolo
    ata f0 
ral
